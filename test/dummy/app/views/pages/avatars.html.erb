<div class="max-w-6xl mx-auto p-6">
  <%= render FlatPack::PageTitle::Component.new(
    title: "Avatars",
    subtitle: "Display user avatars with images, initials, status indicators, and grouping."
  ) %>

  <%= render "pages/component_method_variables_table", component: :avatar %>

  <%
    erb_output_open = "<" + "%="
    erb_tag_close = "%" + ">"
  %>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Sizes",
      anchor_link: true,
      subtitle: "Avatar sizes from xs through xl, with md as the default."
    ) %>
    <div class="flex items-end gap-4 mb-4">
      <%= render FlatPack::Avatar::Component.new(name: "John Doe", size: :xs) %>
      <%= render FlatPack::Avatar::Component.new(name: "John Doe", size: :sm) %>
      <%= render FlatPack::Avatar::Component.new(name: "John Doe", size: :md) %>
      <%= render FlatPack::Avatar::Component.new(name: "John Doe", size: :lg) %>
      <%= render FlatPack::Avatar::Component.new(name: "John Doe", size: :xl) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Sizes (ERB)",
      snippets: [
        {
          label: "XS",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", size: :xs) #{erb_tag_close}
          CODE
        },
        {
          label: "SM",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", size: :sm) #{erb_tag_close}
          CODE
        },
        {
          label: "MD",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", size: :md) #{erb_tag_close}
          CODE
        },
        {
          label: "LG",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "XL",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", size: :xl) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Shapes",
      anchor_link: true,
      subtitle: "Shape variants include circle (default), rounded, and square."
    ) %>
    <div class="flex items-center gap-4 mb-4">
      <%= render FlatPack::Avatar::Component.new(name: "Circle", shape: :circle, size: :lg) %>
      <%= render FlatPack::Avatar::Component.new(name: "Rounded", shape: :rounded, size: :lg) %>
      <%= render FlatPack::Avatar::Component.new(name: "Square", shape: :square, size: :lg) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Shapes (ERB)",
      snippets: [
        {
          label: "Circle",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Circle", shape: :circle, size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Rounded",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Rounded", shape: :rounded, size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Square",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Square", shape: :square, size: :lg) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Status Indicators",
      anchor_link: true,
      subtitle: "Status dots support online (green), busy (red), away (amber), and offline (gray)."
    ) %>
    <div class="flex items-center gap-4 mb-4">
      <%= render FlatPack::Avatar::Component.new(name: "Online User", status: :online, size: :lg) %>
      <%= render FlatPack::Avatar::Component.new(name: "Busy User", status: :busy, size: :lg) %>
      <%= render FlatPack::Avatar::Component.new(name: "Away User", status: :away, size: :lg) %>
      <%= render FlatPack::Avatar::Component.new(name: "Offline User", status: :offline, size: :lg) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Statuses (ERB)",
      snippets: [
        {
          label: "Online",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Online User", status: :online, size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Busy",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Busy User", status: :busy, size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Away",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Away User", status: :away, size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Offline",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "Offline User", status: :offline, size: :lg) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "With Images",
      anchor_link: true,
      subtitle: "Image avatars can be combined with status indicators and shape variants."
    ) %>
    <div class="flex items-center gap-4 mb-4">
      <%= render FlatPack::Avatar::Component.new(
        src: "https://i.pravatar.cc/150?img=1",
        alt: "User 1",
        size: :lg
      ) %>
      <%= render FlatPack::Avatar::Component.new(
        src: "https://i.pravatar.cc/150?img=2",
        alt: "User 2",
        size: :lg,
        status: :online
      ) %>
      <%= render FlatPack::Avatar::Component.new(
        src: "https://i.pravatar.cc/150?img=3",
        alt: "User 3",
        size: :lg,
        shape: :rounded
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Image Avatars (ERB)",
      snippets: [
        {
          label: "Basic",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(src: "https://i.pravatar.cc/150?img=1", alt: "User 1", size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "With Status",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(src: "https://i.pravatar.cc/150?img=2", alt: "User 2", size: :lg, status: :online) #{erb_tag_close}
          CODE
        },
        {
          label: "Rounded",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(src: "https://i.pravatar.cc/150?img=3", alt: "User 3", size: :lg, shape: :rounded) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Clickable Avatars",
      anchor_link: true,
      subtitle: "Set href to render avatars as links with hover and focus behavior."
    ) %>
    <div class="flex items-center gap-4 mb-4">
      <%= render FlatPack::Avatar::Component.new(
        name: "John Doe",
        href: "#",
        size: :lg
      ) %>
      <%= render FlatPack::Avatar::Component.new(
        src: "https://i.pravatar.cc/150?img=4",
        alt: "Jane Smith",
        href: "#",
        size: :lg,
        status: :online
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Clickable Avatars (ERB)",
      snippets: [
        {
          label: "Initials Link",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", href: "#", size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Image Link",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(
              src: "https://i.pravatar.cc/150?img=4",
              alt: "Jane Smith",
              href: "#",
              size: :lg,
              status: :online
            ) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Fallback Types",
      anchor_link: true,
      subtitle: "Fallback priority is image, then initials, then generic icon."
    ) %>
    <div class="flex items-center gap-4 mb-4">
      <%= render FlatPack::Avatar::Component.new(
        src: "https://i.pravatar.cc/150?img=5",
        name: "Image",
        size: :lg
      ) %>
      <%= render FlatPack::Avatar::Component.new(
        name: "John Doe",
        size: :lg
      ) %>
      <%= render FlatPack::Avatar::Component.new(
        initials: "AB",
        size: :lg
      ) %>
      <%= render FlatPack::Avatar::Component.new(
        size: :lg
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Fallback Types (ERB)",
      snippets: [
        {
          label: "Image",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(src: "https://i.pravatar.cc/150?img=5", name: "Image", size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Name Initials",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(name: "John Doe", size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Custom Initials",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(initials: "AB", size: :lg) #{erb_tag_close}
          CODE
        },
        {
          label: "Generic Icon",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::Avatar::Component.new(size: :lg) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Avatar Groups: Basic Group",
      anchor_link: true,
      subtitle: "A default stacked group using image and initials fallbacks."
    ) %>
    <div class="mb-4">
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "Alice Johnson", src: "https://i.pravatar.cc/150?img=10"},
          {name: "Bob Smith", src: "https://i.pravatar.cc/150?img=11"},
          {name: "Charlie Brown", src: "https://i.pravatar.cc/150?img=12"},
          {name: "Diana Prince"}
        ]
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Group Basics (ERB)",
      code: <<~CODE,
        #{erb_output_open} render FlatPack::AvatarGroup::Component.new(
          items: [
            { name: "Alice Johnson", src: "https://i.pravatar.cc/150?img=10" },
            { name: "Bob Smith", src: "https://i.pravatar.cc/150?img=11" },
            { name: "Charlie Brown", src: "https://i.pravatar.cc/150?img=12" },
            { name: "Diana Prince" }
          ]
        ) #{erb_tag_close}
      CODE
      language: "erb"
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Avatar Groups: With Overflow",
      anchor_link: true,
      subtitle: "When item count exceeds max, a +N overflow avatar appears."
    ) %>
    <div class="mb-4">
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "User 1", src: "https://i.pravatar.cc/150?img=20"},
          {name: "User 2", src: "https://i.pravatar.cc/150?img=21"},
          {name: "User 3", src: "https://i.pravatar.cc/150?img=22"},
          {name: "User 4", src: "https://i.pravatar.cc/150?img=23"},
          {name: "User 5", src: "https://i.pravatar.cc/150?img=24"},
          {name: "User 6"},
          {name: "User 7"},
          {name: "User 8"}
        ],
        max: 3
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Group Overflow (ERB)",
      snippets: [
        {
          label: "Max 3",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(
              items: [
                { name: "User 1", src: "https://i.pravatar.cc/150?img=20" },
                { name: "User 2", src: "https://i.pravatar.cc/150?img=21" },
                { name: "User 3", src: "https://i.pravatar.cc/150?img=22" },
                { name: "User 4", src: "https://i.pravatar.cc/150?img=23" }
              ],
              max: 3
            ) #{erb_tag_close}
          CODE
        },
        {
          label: "With More Items",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: users, max: 3) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Avatar Groups: Different Sizes",
      anchor_link: true,
      subtitle: "Use group size options xs, sm, and md for compact or standard layouts."
    ) %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "User A"},
          {name: "User B"},
          {name: "User C"}
        ],
        size: :xs
      ) %>
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "User A"},
          {name: "User B"},
          {name: "User C"}
        ],
        size: :sm
      ) %>
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "User A"},
          {name: "User B"},
          {name: "User C"}
        ],
        size: :md
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Group Sizes (ERB)",
      snippets: [
        {
          label: "XS",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: [{name: "User A"}, {name: "User B"}, {name: "User C"}], size: :xs) #{erb_tag_close}
          CODE
        },
        {
          label: "SM",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: [{name: "User A"}, {name: "User B"}, {name: "User C"}], size: :sm) #{erb_tag_close}
          CODE
        },
        {
          label: "MD",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: [{name: "User A"}, {name: "User B"}, {name: "User C"}], size: :md) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Avatar Groups: Different Overlaps",
      anchor_link: true,
      subtitle: "Compare small, medium (default), and large overlap spacing."
    ) %>
    <div class="space-y-4 mb-4">
      <div class="space-y-2">
        <div class="text-sm font-medium">Small overlap</div>
        <%= render FlatPack::AvatarGroup::Component.new(
          items: [
            {name: "User 1", src: "https://i.pravatar.cc/150?img=30"},
            {name: "User 2", src: "https://i.pravatar.cc/150?img=31"},
            {name: "User 3", src: "https://i.pravatar.cc/150?img=32"}
          ],
          overlap: :sm,
          size: :md
        ) %>
      </div>
      <div class="space-y-2">
        <div class="text-sm font-medium">Medium overlap (default)</div>
        <%= render FlatPack::AvatarGroup::Component.new(
          items: [
            {name: "User 1", src: "https://i.pravatar.cc/150?img=30"},
            {name: "User 2", src: "https://i.pravatar.cc/150?img=31"},
            {name: "User 3", src: "https://i.pravatar.cc/150?img=32"}
          ],
          overlap: :md,
          size: :md
        ) %>
      </div>
      <div class="space-y-2">
        <div class="text-sm font-medium">Large overlap</div>
        <%= render FlatPack::AvatarGroup::Component.new(
          items: [
            {name: "User 1", src: "https://i.pravatar.cc/150?img=30"},
            {name: "User 2", src: "https://i.pravatar.cc/150?img=31"},
            {name: "User 3", src: "https://i.pravatar.cc/150?img=32"}
          ],
          overlap: :lg,
          size: :md
        ) %>
      </div>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Avatar Group Overlaps (ERB)",
      snippets: [
        {
          label: "Small",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(
              items: [
                { name: "User 1", src: "https://i.pravatar.cc/150?img=30" },
                { name: "User 2", src: "https://i.pravatar.cc/150?img=31" },
                { name: "User 3", src: "https://i.pravatar.cc/150?img=32" }
              ],
              overlap: :sm,
              size: :md
            ) #{erb_tag_close}
          CODE
        },
        {
          label: "Medium",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: users, overlap: :md, size: :md) #{erb_tag_close}
          CODE
        },
        {
          label: "Large",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: users, overlap: :lg, size: :md) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Avatar Groups: With Status Indicators",
      anchor_link: true,
      subtitle: "Group avatars with mixed online, busy, away, and offline states."
    ) %>
    <div class="mb-4">
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "Online User", status: :online, src: "https://i.pravatar.cc/150?img=40"},
          {name: "Busy User", status: :busy, src: "https://i.pravatar.cc/150?img=41"},
          {name: "Away User", status: :away, src: "https://i.pravatar.cc/150?img=42"},
          {name: "Offline User", status: :offline, src: "https://i.pravatar.cc/150?img=43"}
        ],
        size: :md
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Status Avatar Groups (ERB)",
      snippets: [
        {
          label: "Status Mix",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(
              items: [
                { name: "Online User", status: :online, src: "https://i.pravatar.cc/150?img=40" },
                { name: "Busy User", status: :busy, src: "https://i.pravatar.cc/150?img=41" },
                { name: "Away User", status: :away, src: "https://i.pravatar.cc/150?img=42" },
                { name: "Offline User", status: :offline, src: "https://i.pravatar.cc/150?img=43" }
              ],
              size: :md
            ) #{erb_tag_close}
          CODE
        },
        {
          label: "Alternate Data",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: team_members, size: :md) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>

  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(
      title: "Avatar Groups: Clickable Avatars",
      anchor_link: true,
      anchor_id: "clickable-avatar-group",
      subtitle: "Clickable avatars and overflow links support richer team navigation patterns."
    ) %>
    <div class="mb-4">
      <%= render FlatPack::AvatarGroup::Component.new(
        items: [
          {name: "User 1", href: "#user1", src: "https://i.pravatar.cc/150?img=50"},
          {name: "User 2", href: "#user2", src: "https://i.pravatar.cc/150?img=51"},
          {name: "User 3", href: "#user3"}
        ],
        overflow_href: "#all-users",
        max: 3,
        size: :md
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      title: "Clickable Avatar Groups (ERB)",
      snippets: [
        {
          label: "Clickable Items",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(
              items: [
                { name: "User 1", href: "#user1", src: "https://i.pravatar.cc/150?img=50" },
                { name: "User 2", href: "#user2", src: "https://i.pravatar.cc/150?img=51" },
                { name: "User 3", href: "#user3" }
              ],
              overflow_href: "#all-users",
              max: 3,
              size: :md
            ) #{erb_tag_close}
          CODE
        },
        {
          label: "No Overflow Link",
          language: "erb",
          code: <<~CODE
            #{erb_output_open} render FlatPack::AvatarGroup::Component.new(items: members, max: 5, size: :md) #{erb_tag_close}
          CODE
        }
      ]
    ) %>
  </section>
</div>
