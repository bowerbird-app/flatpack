  <%= render FlatPack::PageTitle::Component.new(
    title: "Alert Component",
    subtitle: "Prominent notifications and messages for user feedback (success, errors, warnings, info)."
  ) %>

  <%= render "pages/component_method_variables_table", component: :alert %>

  <!-- Basic Variants -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Basic Variants", anchor_link: true, subtitle: "Examples for Basic Variants.") %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::Alert::Component.new(
        title: "Information",
        description: "This is an informational message.",
        style: :info
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Success!",
        description: "Your changes have been saved successfully.",
        style: :success
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Warning",
        description: "This action cannot be undone.",
        style: :warning
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Error",
        description: "Failed to save changes. Please try again.",
        style: :danger
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(
          title: "Information",
          description: "This is an informational message.",
          style: :info
        ) %&gt;
        
        &lt;%= render FlatPack::Alert::Component.new(
          title: "Success!",
          description: "Your changes have been saved successfully.",
          style: :success
        ) %&gt;
      CODE
    ) %>
  </section>

  <!-- Title Only -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Title Only", anchor_link: true, subtitle: "Examples for Title Only.") %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::Alert::Component.new(
        title: "Quick information message",
        style: :info
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Successfully completed!",
        style: :success
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(
          title: "Quick information message",
          style: :info
        ) %&gt;
      CODE
    ) %>
  </section>

  <!-- Description Only -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Description Only", anchor_link: true, subtitle: "Examples for Description Only.") %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::Alert::Component.new(
        description: "Your session will expire in 5 minutes.",
        style: :warning
      ) %>
      <%= render FlatPack::Alert::Component.new(
        description: "All systems are operational.",
        style: :success
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(
          description: "Your session will expire in 5 minutes.",
          style: :warning
        ) %&gt;
      CODE
    ) %>
  </section>

  <!-- Without Icon -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Without Icon", anchor_link: true, subtitle: "Examples for Without Icon.") %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::Alert::Component.new(
        title: "No Icon",
        description: "This alert doesn't show an icon.",
        style: :info,
        icon: false
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Text Only",
        description: "Clean text-only presentation.",
        style: :success,
        icon: false
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(
          title: "No Icon",
          description: "This alert doesn't show an icon.",
          style: :info,
          icon: false
        ) %&gt;
      CODE
    ) %>
  </section>

  <!-- Dismissible Alerts -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Dismissible Alerts", anchor_link: true, subtitle: "Examples for Dismissible Alerts.") %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::Alert::Component.new(
        title: "Notice",
        description: "Click the X button to dismiss this message.",
        style: :info,
        dismissible: true
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Announcement",
        description: "New features are now available! Dismiss when read.",
        style: :info,
        dismissible: true
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Temporary Warning",
        description: "This warning can be dismissed once acknowledged.",
        style: :warning,
        dismissible: true
      ) %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(
          title: "Notice",
          description: "Click the X button to dismiss this message.",
          style: :info,
          dismissible: true
        ) %&gt;
      CODE
    ) %>
  </section>

  <!-- Rich Content with Slots -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Rich Content with Slots", anchor_link: true, subtitle: "Examples for Rich Content with Slots.") %>
    <div class="space-y-4 mb-4">
      <%= render FlatPack::Alert::Component.new(style: :success) do %>
        <div class="flex flex-col items-start justify-between gap-3">
          <div>
            <strong>Success!</strong> You've completed the tutorial.
          </div>
          <%= render FlatPack::Button::Component.new(text: "Continue →", size: :sm, style: :secondary) %>
        </div>
      <% end %>
      
      <%= render FlatPack::Alert::Component.new(style: :warning) do %>
        <div class="flex flex-col items-start justify-between gap-3">
          <div>
            <strong>Confirm Action</strong>
            <p class="text-sm">This will permanently delete your data.</p>
          </div>
          <div class="flex gap-2">
            <%= render FlatPack::Button::Component.new(text: "Delete", size: :sm, style: :warning) %>
            <%= render FlatPack::Button::Component.new(text: "Cancel", size: :sm, style: :ghost) %>
          </div>
        </div>
      <% end %>
    </div>
    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(style: :success) do %&gt;
          <div class="flex flex-col items-start justify-between gap-3">
            <div>
              <strong>Success!</strong> You've completed the tutorial.
            </div>
            &lt;%= render FlatPack::Button::Component.new(text: "Continue →", size: :sm, style: :secondary) %&gt;
          </div>
        &lt;% end %&gt;
      CODE
    ) %>
  </section>

  <!-- Use Cases -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Common Use Cases", anchor_link: true, subtitle: "Examples for Common Use Cases.") %>
    <div class="mb-6">
      <h3 class="text-lg font-medium mb-3">Form Success Message</h3>
      <%= render FlatPack::Alert::Component.new(
        title: "Form submitted",
        description: "Thank you! We'll process your request shortly.",
        style: :success,
        dismissible: true
      ) %>
    </div>

    <div class="mb-6">
      <h3 class="text-lg font-medium mb-3">Validation Error</h3>
      <%= render FlatPack::Alert::Component.new(
        title: "Please check the form",
        description: "There are errors that need to be corrected before submission.",
        style: :danger
      ) %>
    </div>

    <div class="mb-6">
      <h3 class="text-lg font-medium mb-3">Warning Prompt</h3>
      <%= render FlatPack::Alert::Component.new(
        title: "Before you proceed",
        description: "This will permanently delete all your data. This action cannot be undone.",
        style: :warning
      ) %>
    </div>

    <div class="mb-6">
      <h3 class="text-lg font-medium mb-3">Informational Banner</h3>
      <%= render FlatPack::Alert::Component.new(
        title: "System Maintenance",
        description: "Scheduled maintenance is planned for tonight from 11 PM to 1 AM EST.",
        style: :info,
        dismissible: true
      ) %>
    </div>

    <%= render FlatPack::CodeBlock::Component.new(
      code: CGI.unescapeHTML(<<~'CODE')
        &lt;%= render FlatPack::Alert::Component.new(
          title: "Form submitted",
          description: "Thank you! We'll process your request shortly.",
          style: :success,
          dismissible: true
        ) %&gt;
      CODE
    ) %>
  </section>

  <!-- Flash Messages Example -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Flash Messages Pattern", anchor_link: true, subtitle: "Examples for Flash Messages Pattern.") %>
    <div class="space-y-4 mb-4">
      <div class="p-4 bg-[var(--color-muted)] rounded">
        <p class="text-sm text-[var(--color-muted-foreground)] mb-4">Example implementation for Rails flash messages:</p>
        <%= render FlatPack::CodeBlock::Component.new(
          code: CGI.unescapeHTML(<<~'CODE'),
            &lt;% if flash[:notice] %&gt;
              &lt;%= render FlatPack::Alert::Component.new(
                description: flash[:notice],
                style: :success,
                dismissible: true
              ) %&gt;
            &lt;% end %&gt;
            
            &lt;% if flash[:alert] %&gt;
              &lt;%= render FlatPack::Alert::Component.new(
                description: flash[:alert],
                style: :danger,
                dismissible: true
              ) %&gt;
            &lt;% end %&gt;
          CODE
          class: "text-sm"
        ) %>
      </div>
      
      <%= render FlatPack::Alert::Component.new(
        description: "This is a simulated flash success message.",
        style: :success,
        dismissible: true
      ) %>
      
      <%= render FlatPack::Alert::Component.new(
        description: "This is a simulated flash error message.",
        style: :danger,
        dismissible: true
      ) %>
    </div>
  </section>

  <!-- Interactive Demo -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Interactive Demo", anchor_link: true, subtitle: "Examples for Interactive Demo.") %>
    <p class="mb-4 text-[var(--color-muted-foreground)]">Click the dismiss button (X) on the alerts below to see the fade-out animation:</p>
    <div class="space-y-4 mb-4" id="dismissible-demo">
      <%= render FlatPack::Alert::Component.new(
        title: "Click to Dismiss",
        description: "This alert will fade out and be removed from the page.",
        style: :info,
        dismissible: true
      ) %>
      <%= render FlatPack::Alert::Component.new(
        title: "Try Me Too",
        description: "Watch the smooth animation as this alert disappears.",
        style: :success,
        dismissible: true
      ) %>
    </div>
    <button class="px-4 py-2 bg-[var(--color-primary)] text-[var(--color-primary-text)] rounded-[var(--radius-md)]" 
            onclick="window.location.reload()">
      Reset Demo
    </button>
  </section>

  <!-- Documentation Link -->
  <section class="mb-12">
    <%= render FlatPack::SectionTitle::Component.new(title: "Documentation", anchor_link: true, subtitle: "Examples for Documentation.") %>
    <p class="mb-4">For complete documentation including Stimulus controller details, see <a href="https://github.com/bowerbird-app/flatpack/blob/main/docs/components/alert.md" class="text-[var(--color-primary)] underline">Alert Component Documentation</a>.</p>
  </section>

<script>
  // Listen for alert dismissed events
  document.addEventListener('alert:dismissed', (event) => {
    console.log('Alert dismissed:', event.detail.element);
  });
</script>
