<div class="max-w-6xl mx-auto">
  <h1 class="text-4xl font-bold mb-4">Table Component</h1>
  <p class="text-lg text-[var(--color-muted-foreground)] mb-8">
    Data tables with columns, actions, and formatting.
  </p>

  <!-- Basic Table -->
  <section class="mb-12">
    <h2 class="text-2xl font-semibold mb-4">Basic Table</h2>
    <%= render FlatPack::Table::Component.new(
      rows: @users.first(5),
      turbo_frame: "basic_table",
      sort: params[:sort],
      direction: params[:direction],
      base_url: request.path
    ) do |table| %>
      <% table.with_column(label: "ID", attribute: :id, sortable: true) %>
      <% table.with_column(label: "Name", attribute: :name, sortable: true) %>
      <% table.with_column(label: "Email", attribute: :email, sortable: true) %>
    <% end %>
    <pre class="bg-[var(--color-muted)] p-4 rounded overflow-x-auto mt-4"><code>&lt;%= render FlatPack::Table::Component.new(
  rows: @users.first(5),
  turbo_frame: "basic_table",
  sort: params[:sort],
  direction: params[:direction],
  base_url: request.path
) do |table| %&gt;
  &lt;% table.with_column(label: "ID", attribute: :id, sortable: true) %&gt;
  &lt;% table.with_column(label: "Name", attribute: :name, sortable: true) %&gt;
  &lt;% table.with_column(label: "Email", attribute: :email, sortable: true) %&gt;
&lt;% end %&gt;</code></pre>
  </section>

  <!-- Table with Formatted Columns -->
  <section class="mb-12">
    <h2 class="text-2xl font-semibold mb-4">Table with Formatted Columns</h2>
    <%= render FlatPack::Table::Component.new(rows: @users.first(5)) do |table| %>
      <% table.with_column(label: "Name", formatter: ->(user) { "<strong class=\"text-[var(--color-primary)]\">#{user.name}</strong>".html_safe }) %>
      <% table.with_column(label: "Status", formatter: ->(user) {
        badge_class = case user.status
        when 'active' then 'bg-green-100 text-green-800'
        when 'inactive' then 'bg-gray-100 text-gray-800'
        else 'bg-yellow-100 text-yellow-800'
        end
        "<span class=\"px-2 py-1 text-xs rounded #{badge_class}\">#{user.status.capitalize}</span>".html_safe
      }) %>
      <% table.with_column(label: "Created", formatter: ->(user) { user.created_at.strftime("%b %d, %Y") }) %>
    <% end %>
    <pre class="bg-[var(--color-muted)] p-4 rounded overflow-x-auto mt-4"><code>&lt;%= render FlatPack::Table::Component.new(rows: @users) do |table| %&gt;
  &lt;% table.with_column(label: "Name", formatter: -&gt;(user) { "&lt;strong class=\"text-[var(--color-primary)]\"&gt;#{user.name}&lt;/strong&gt;".html_safe }) %&gt;
  &lt;% table.with_column(label: "Status", formatter: -&gt;(user) {
    badge_class = case user.status
    when 'active' then 'bg-green-100 text-green-800'
    when 'inactive' then 'bg-gray-100 text-gray-800'
    else 'bg-yellow-100 text-yellow-800'
    end
    "&lt;span class=\"px-2 py-1 text-xs rounded #{badge_class}\"&gt;#{user.status.capitalize}&lt;/span&gt;".html_safe
  }) %&gt;
  &lt;% table.with_column(label: "Created", formatter: -&gt;(user) { user.created_at.strftime("%b %d, %Y") }) %&gt;
&lt;% end %&gt;</code></pre>
  </section>

  <!-- Table with Actions -->
  <section class="mb-12">
    <h2 class="text-2xl font-semibold mb-4">Table with Actions</h2>
    <%= render FlatPack::Table::Component.new(rows: @users.first(5)) do |table| %>
      <% table.with_column(label: "Name", attribute: :name) %>
      <% table.with_column(label: "Email", attribute: :email) %>
      <% table.with_action(label: "View", url: "#", scheme: :ghost) %>
      <% table.with_action(label: "Edit", url: "#", scheme: :ghost) %>
      <% table.with_action(label: "Delete", url: "#", method: :delete, scheme: :ghost,
          data: { turbo_confirm: "Are you sure?" }) %>
    <% end %>
    <pre class="bg-[var(--color-muted)] p-4 rounded overflow-x-auto mt-4"><code>&lt;%= render FlatPack::Table::Component.new(rows: @users) do |table| %&gt;
  &lt;% table.with_column(label: "Name", attribute: :name) %&gt;
  &lt;% table.with_column(label: "Email", attribute: :email) %&gt;
  &lt;% table.with_action(label: "View", url: "#", scheme: :ghost) %&gt;
  &lt;% table.with_action(label: "Edit", url: "#", scheme: :ghost) %&gt;
  &lt;% table.with_action(label: "Delete", url: "#", method: :delete, scheme: :ghost,
      data: { turbo_confirm: "Are you sure?" }) %&gt;
&lt;% end %&gt;</code></pre>
  </section>

  <!-- Empty Table -->
  <section class="mb-12">
    <h2 class="text-2xl font-semibold mb-4">Empty Table</h2>
    <%= render FlatPack::Table::Component.new(rows: []) do |table| %>
      <% table.with_column(label: "Name", attribute: :name) %>
      <% table.with_column(label: "Email", attribute: :email) %>
    <% end %>
    <pre class="bg-[var(--color-muted)] p-4 rounded overflow-x-auto mt-4"><code>&lt;%= render FlatPack::Table::Component.new(rows: []) do |table| %&gt;
  &lt;% table.with_column(label: "Name", attribute: :name) %&gt;
  &lt;% table.with_column(label: "Email", attribute: :email) %&gt;
&lt;% end %&gt;</code></pre>
  </section>

  <!-- Large Table -->
  <section class="mb-12">
    <h2 class="text-2xl font-semibold mb-4">Large Table (All <%= @users.count %> Users)</h2>
    <%= render FlatPack::Table::Component.new(rows: @users) do |table| %>
      <% table.with_column(label: "ID", attribute: :id) %>
      <% table.with_column(label: "Name", attribute: :name) %>
      <% table.with_column(label: "Email", attribute: :email) %>
      <% table.with_column(label: "Status", formatter: ->(user) {
        badge_class = case user.status
        when 'active' then 'bg-green-100 text-green-800'
        when 'inactive' then 'bg-gray-100 text-gray-800'
        else 'bg-yellow-100 text-yellow-800'
        end
        "<span class=\"px-2 py-1 text-xs rounded #{badge_class}\">#{user.status.capitalize}</span>".html_safe
      }) %>
      <% table.with_column(label: "Created", formatter: ->(user) { user.created_at.strftime("%b %d, %Y") }) %>
      <% table.with_action(label: "Edit", url: "#", scheme: :ghost) %>
    <% end %>
    <pre class="bg-[var(--color-muted)] p-4 rounded overflow-x-auto mt-4"><code>&lt;%= render FlatPack::Table::Component.new(rows: @users) do |table| %&gt;
  &lt;% table.with_column(label: "ID", attribute: :id) %&gt;
  &lt;% table.with_column(label: "Name", attribute: :name) %&gt;
  &lt;% table.with_column(label: "Email", attribute: :email) %&gt;
  &lt;% table.with_column(label: "Status") do |user| %&gt;
    &lt;span class="px-2 py-1 text-xs rounded"&gt;
      &lt;%= user.status.capitalize %&gt;
    &lt;/span&gt;
  &lt;% end %&gt;
  &lt;% table.with_column(label: "Created") do |user| %&gt;
    &lt;%= user.created_at.strftime("%b %d, %Y") %&gt;
  &lt;% end %&gt;
  &lt;% table.with_action(label: "Edit", url: "#", scheme: :ghost) %&gt;
&lt;% end %&gt;</code></pre>
  </section>

  <!-- Sortable Table -->
  <section class="mb-12">
    <h2 class="text-2xl font-semibold mb-4">Sortable Table</h2>
    <p class="text-[var(--color-muted-foreground)] mb-4">
      Click column headers to sort. Uses Turbo Frames for seamless updates without full page reload.
    </p>
    <%= render FlatPack::Table::Component.new(
      rows: @sorted_users,
      turbo_frame: "sortable_table",
      sort: params[:sort],
      direction: params[:direction],
      base_url: request.path
    ) do |table| %>
      <% table.with_column(label: "ID", attribute: :id, sortable: true) %>
      <% table.with_column(label: "Name", attribute: :name, sortable: true) %>
      <% table.with_column(label: "Email", attribute: :email, sortable: true) %>
      <% table.with_column(label: "Status", attribute: :status, sortable: true, formatter: ->(user) {
        badge_class = case user.status
        when 'active' then 'bg-green-100 text-green-800'
        when 'inactive' then 'bg-gray-100 text-gray-800'
        else 'bg-yellow-100 text-yellow-800'
        end
        "<span class=\"px-2 py-1 text-xs rounded #{badge_class}\">#{user.status.capitalize}</span>".html_safe
      }) %>
      <% table.with_column(label: "Created", attribute: :created_at, sortable: true, formatter: ->(user) { user.created_at.strftime("%b %d, %Y") }) %>
      <% table.with_action(label: "Edit", url: "#", scheme: :ghost) %>
    <% end %>
    <pre class="bg-[var(--color-muted)] p-4 rounded overflow-x-auto mt-4"><code>&lt;%= render FlatPack::Table::Component.new(
  rows: @sorted_users,
  turbo_frame: "sortable_table",
  sort: params[:sort],
  direction: params[:direction],
  base_url: request.path
) do |table| %&gt;
  &lt;% table.with_column(label: "ID", attribute: :id, sortable: true) %&gt;
  &lt;% table.with_column(label: "Name", attribute: :name, sortable: true) %&gt;
  &lt;% table.with_column(label: "Email", attribute: :email, sortable: true) %&gt;
  &lt;% table.with_column(label: "Status", attribute: :status, sortable: true) %&gt;
  &lt;% table.with_column(label: "Created", attribute: :created_at, sortable: true) %&gt;
&lt;% end %&gt;</code></pre>
  </section>
</div>
