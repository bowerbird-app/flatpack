<!DOCTYPE html>
<html class="h-full overflow-hidden overscroll-none">
  <head>
    <title>FlatPack Demo</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="m-0 h-full overflow-hidden overscroll-none" data-controller="dark-mode">
    <!-- SVG Icon Sprite -->
    <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
      <symbol id="icon-search" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </symbol>

      <symbol id="icon-link" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </symbol>
      
      <symbol id="icon-settings" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
        <circle cx="12" cy="12" r="3"></circle>
      </symbol>
      
      <symbol id="icon-trash" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 6h18"></path>
        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
      </symbol>
      
      <symbol id="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"></polyline>
      </symbol>
      
      <symbol id="icon-alert" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path>
        <line x1="12" y1="9" x2="12" y2="13"></line>
        <line x1="12" y1="17" x2="12.01" y2="17"></line>
      </symbol>
      
      <symbol id="icon-upload" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="17 8 12 3 7 8"></polyline>
        <line x1="12" y1="3" x2="12" y2="15"></line>
      </symbol>
      
      <symbol id="icon-align-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="21" y1="6" x2="3" y2="6"></line>
        <line x1="15" y1="12" x2="3" y2="12"></line>
        <line x1="17" y1="18" x2="3" y2="18"></line>
      </symbol>
      
      <symbol id="icon-align-center" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="21" y1="6" x2="3" y2="6"></line>
        <line x1="17" y1="12" x2="7" y2="12"></line>
        <line x1="19" y1="18" x2="5" y2="18"></line>
      </symbol>
      
      <symbol id="icon-align-right" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="21" y1="6" x2="3" y2="6"></line>
        <line x1="21" y1="12" x2="9" y2="12"></line>
        <line x1="21" y1="18" x2="7" y2="18"></line>
      </symbol>
      
      <symbol id="icon-home" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
        <polyline points="9 22 9 12 15 12 15 22"></polyline>
      </symbol>
      
      <symbol id="icon-box" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path>
        <path d="m3.3 7 8.7 5 8.7-5"></path>
        <path d="M12 22V12"></path>
      </symbol>
      
      <symbol id="icon-monitor" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="20" height="14" x="2" y="3" rx="2"></rect>
        <line x1="8" x2="16" y1="21" y2="21"></line>
        <line x1="12" x2="12" y1="17" y2="21"></line>
      </symbol>
      
      <symbol id="icon-laptop" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16"></path>
      </symbol>
      
      <symbol id="icon-dashboard" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="7" height="9" x="3" y="3" rx="1"></rect>
        <rect width="7" height="5" x="14" y="3" rx="1"></rect>
        <rect width="7" height="9" x="14" y="12" rx="1"></rect>
        <rect width="7" height="5" x="3" y="16" rx="1"></rect>
      </symbol>
      
      <symbol id="icon-chevron-right" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m9 18 6-6-6-6"></path>
      </symbol>
      
      <symbol id="icon-mail" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="20" height="16" x="2" y="4" rx="2"></rect>
        <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
      </symbol>
      
      <symbol id="icon-folder" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"></path>
      </symbol>
      
      <symbol id="icon-square" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="18" height="18" x="3" y="3" rx="2"></rect>
      </symbol>
      
      <symbol id="icon-edit-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 20h9"></path>
        <path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"></path>
      </symbol>
      
      <symbol id="icon-table" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 3v18"></path>
        <rect width="18" height="18" x="3" y="3" rx="2"></rect>
        <path d="M3 9h18"></path>
        <path d="M3 15h18"></path>
      </symbol>
      
      <symbol id="icon-type" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="4 7 4 4 20 4 20 7"></polyline>
        <line x1="9" x2="15" y1="20" y2="20"></line>
        <line x1="12" x2="12" y1="4" y2="20"></line>
      </symbol>
      
      <symbol id="icon-user" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </symbol>
      
      <symbol id="icon-lock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
      </symbol>
      
      <symbol id="icon-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"></path>
        <path d="M12 5v14"></path>
      </symbol>
      
      <symbol id="icon-github" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
        <path d="M9 18c-4.51 2-5-2-7-2"></path>
      </symbol>
      
      <symbol id="icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="4" x2="20" y1="12" y2="12"></line>
        <line x1="4" x2="20" y1="6" y2="6"></line>
        <line x1="4" x2="20" y1="18" y2="18"></line>
      </symbol>
      
      <symbol id="icon-chevron-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m15 18-6-6 6-6"></path>
      </symbol>
      
      <symbol id="icon-chevron-down" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"></path>
      </symbol>
      
      <symbol id="icon-bell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
        <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
      </symbol>
      
      <symbol id="icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
        <line x1="16" x2="16" y1="2" y2="6"></line>
        <line x1="8" x2="8" y1="2" y2="6"></line>
        <line x1="3" x2="21" y1="10" y2="10"></line>
      </symbol>
      
      <symbol id="icon-file" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
      </symbol>
      
      <symbol id="icon-users" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
        <circle cx="9" cy="7" r="4"></circle>
        <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
      </symbol>

      <symbol id="icon-message-circle" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"></path>
      </symbol>
      
      <symbol id="icon-dots" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="1"></circle>
        <circle cx="12" cy="5" r="1"></circle>
        <circle cx="12" cy="19" r="1"></circle>
      </symbol>
      
      <symbol id="icon-cog" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z"></path>
        <path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path>
        <path d="M12 2v2"></path>
        <path d="M12 22v-2"></path>
        <path d="m17 20.66-1-1.73"></path>
        <path d="M11 10.27 7 3.34"></path>
        <path d="m20.66 17-1.73-1"></path>
        <path d="m3.34 7 1.73 1"></path>
        <path d="M14 12h8"></path>
        <path d="M2 12h2"></path>
        <path d="m20.66 7-1.73 1"></path>
        <path d="m3.34 17 1.73-1"></path>
        <path d="m17 3.34-1 1.73"></path>
        <path d="m11 13.73-4 6.93"></path>
      </symbol>
      
      <symbol id="icon-question" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
        <path d="M12 17h.01"></path>
      </symbol>
      
      <symbol id="icon-keyboard" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="20" height="16" x="2" y="4" rx="2" ry="2"></rect>
        <path d="M6 8h.01"></path>
        <path d="M10 8h.01"></path>
        <path d="M14 8h.01"></path>
        <path d="M18 8h.01"></path>
        <path d="M8 12h.01"></path>
        <path d="M12 12h.01"></path>
        <path d="M16 12h.01"></path>
        <path d="M7 16h10"></path>
      </symbol>
    </svg>
    
    <% sidebar_side = params[:side].in?(%w[left right]) ? params[:side].to_sym : :left %>
    <%= render FlatPack::SidebarLayout::Component.new(
      side: sidebar_side,
      storage_key: "flatpack-dummy-shell"
    ) do |layout| %>
      <% layout.sidebar do %>
        <%= render FlatPack::Sidebar::Component.new(side: sidebar_side) do |sidebar| %>
          <% sidebar.header do %>
            <%= render FlatPack::Sidebar::Header::Component.new(
              brand_abbr: "FP",
              title: "FlatPack",
              subtitle: "Dummy App"
            ) %>
          <% end %>

          <% sidebar.items do %>
            <nav class="py-4 space-y-1" aria-label="Main navigation">
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Overview",
                href: demo_path,
                icon: :home,
                active: current_page?(demo_path)
              ) %>
              
              <%= render FlatPack::Sidebar::Divider::Component.new %>
              
              <!-- Interactive Components -->
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Buttons",
                href: demo_buttons_path,
                icon: :square,
                active: current_page?(demo_buttons_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Modals",
                href: demo_modals_path,
                icon: :box,
                active: current_page?(demo_modals_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Popovers",
                href: demo_popovers_path,
                icon: :question,
                active: current_page?(demo_popovers_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Tooltips",
                href: demo_tooltips_path,
                icon: :question,
                active: current_page?(demo_tooltips_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Tabs",
                href: demo_tabs_path,
                icon: :folder,
                active: current_page?(demo_tabs_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Toasts",
                href: demo_toasts_path,
                icon: :bell,
                active: current_page?(demo_toasts_path)
              ) %>
              
              <%= render FlatPack::Sidebar::Divider::Component.new %>
              
              <!-- Form Components -->
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Forms",
                href: demo_forms_path,
                icon: :edit_3,
                active: current_page?(demo_forms_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Inputs",
                href: demo_inputs_path,
                icon: :type,
                active: current_page?(demo_inputs_path)
              ) %>
              
              <%= render FlatPack::Sidebar::Divider::Component.new %>
              
              <!-- Data Display -->
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Tables",
                href: demo_tables_path,
                icon: :table,
                active: current_page?(demo_tables_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Pagination",
                href: demo_pagination_path,
                icon: :chevron_right,
                active: current_page?(demo_pagination_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Charts",
                href: demo_charts_path,
                icon: :dashboard,
                active: current_page?(demo_charts_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Grid",
                href: demo_grid_path,
                icon: :dashboard,
                active: current_page?(demo_grid_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Code Blocks",
                href: demo_code_blocks_path,
                icon: :type,
                active: current_page?(demo_code_blocks_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Avatars",
                href: demo_avatars_path,
                icon: :user,
                active: current_page?(demo_avatars_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Comments",
                href: demo_comments_path,
                icon: :users,
                active: current_page?(demo_comments_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Chat",
                href: demo_chat_path,
                icon: :message_circle,
                active: current_page?(demo_chat_path) || current_page?(demo_chat_basic_path) || current_page?(demo_chat_states_path)
              ) %>
              
              <%= render FlatPack::Sidebar::Divider::Component.new %>
              
              <!-- Layout Components -->
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Cards",
                href: demo_cards_path,
                icon: :box,
                active: current_page?(demo_cards_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Page Title",
                href: demo_page_header_path,
                icon: :align_left,
                active: current_page?(demo_page_header_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Empty State",
                href: demo_empty_state_path,
                icon: :folder,
                active: current_page?(demo_empty_state_path)
              ) %>
              
              <%= render FlatPack::Sidebar::Divider::Component.new %>
              
              <!-- Feedback Components -->
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Alerts",
                href: demo_alerts_path,
                icon: :alert,
                active: current_page?(demo_alerts_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Badges",
                href: demo_badges_path,
                icon: :dashboard,
                active: current_page?(demo_badges_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Chips",
                href: demo_chips_path,
                icon: :dashboard,
                active: current_page?(demo_chips_path)
              ) %>
              
              <%= render FlatPack::Sidebar::Divider::Component.new %>
              
              <!-- Navigation Components -->
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Breadcrumbs",
                href: demo_breadcrumbs_path,
                icon: :chevron_right,
                active: current_page?(demo_breadcrumbs_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Top Nav",
                href: demo_navbar_path,
                icon: :monitor,
                active: current_page?(demo_navbar_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Search",
                href: demo_search_path,
                icon: :search,
                active: current_page?(demo_search_path)
              ) %>
              <%= render FlatPack::Sidebar::Item::Component.new(
                label: "Sidebar",
                href: demo_sidebar_layout_path,
                icon: :laptop,
                active: current_page?(demo_sidebar_layout_path)
              ) %>
            </nav>
          <% end %>

          <% sidebar.footer do %>
            <%= render FlatPack::Sidebar::Footer::Component.new(class: "text-sm text-[var(--color-text-muted)]") do %>
              FlatPack Demo Components
            <% end %>
          <% end %>

        <% end %>
      <% end %>

      <% layout.top_nav do %>
        <%= render FlatPack::TopNav::Component.new do |nav| %>
          <% nav.left do %>
            <button
              type="button"
              class="md:hidden p-2 rounded-lg hover:bg-[var(--color-muted)] transition-colors"
              data-flat-pack--sidebar-layout-target="mobileToggle"
              data-action="click->flat-pack--sidebar-layout#toggleMobile"
              aria-label="Toggle sidebar"
            >
              <%= render FlatPack::Shared::IconComponent.new(name: :menu, size: :md) %>
            </button>
            <span class="text-sm font-medium text-[var(--color-text-muted)]">FlatPack Demo</span>
          <% end %>

          <% nav.center do %><% end %>

          <% nav.right do %>
            <div class="ml-auto flex items-center gap-3">
              <%= render FlatPack::Switch::Component.new(
                name: "dark_mode",
                label: "Dark mode",
                data: {
                  dark_mode_target: "toggle",
                  action: "change->dark-mode#toggle"
                },
                aria: { label: "Toggle dark mode" }
              ) %>

            <%= render FlatPack::Button::Component.new(
              icon: "bell",
              icon_only: true,
              style: :ghost,
              size: :sm,
              aria: { label: "Notifications" }
            ) %>
            </div>
          <% end %>

        <% end %>
      <% end %>

      <% layout.main do %>
        <main class="p-8">
          <div class="max-w-4xl mx-auto pb-24">
            <% if notice.present? %>
              <div class="mb-4 rounded-lg border border-[var(--color-border)] bg-[var(--color-muted)] px-4 py-3 text-sm">
                <%= notice %>
              </div>
            <% end %>

            <%= yield %>

          </div>
        </main>
      <% end %>
    <% end %>
  </body>
</html>
